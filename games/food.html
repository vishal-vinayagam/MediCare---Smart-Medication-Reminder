<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ultimate Healthy Food Catch</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #4361ee;
      --secondary: #3f37c9;
      --healthy: #4cc9f0;
      --junk: #ef233c;
      --bg: #f5f7ff;
      --text: #2b2d42;
      --star: #ffd700;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Poppins', sans-serif;
      background: var(--bg);
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      color: var(--text);
      overflow-x: hidden;
      touch-action: none;
    }
    
    .header {
      text-align: center;
      margin: 1rem 0;
      width: 100%;
    }
    
    h1 {
  font-size: 2.2rem;
  margin: 0.5rem 0;
  background: linear-gradient(to right, var(--primary), var(--secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
    
    .subtitle {
      font-size: 1rem;
      color: var(--secondary);
      font-weight: 600;
    }
    
    .game-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
      max-width: 350px;
    }
    
    .game-info {
      display: flex;
      justify-content: space-between;
      width: 100%;
      margin: 0.5rem 0;
      background: rgba(255,255,255,0.8);
      padding: 0.8rem;
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    
    .score-display, .lives-display, .time-display, .level-display {
      display: flex;
      align-items: center;
      font-weight: 600;
      font-size: 0.9rem;
    }
    
    .score-display i, .lives-display i, .time-display i, .level-display i {
      margin-right: 5px;
    }
    
    .score-display i { color: var(--primary); }
    .lives-display i { color: var(--junk); }
    .time-display i { color: var(--secondary); }
    .level-display i { color: var(--healthy); }
    
    .game-area {
      width: 100%;
      height: 400px;
      position: relative;
      background: linear-gradient(to bottom, #e0f2fe, #bae6fd);
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      border: 3px solid white;
    }
    
    .basket {
      width: 80px;
      height: 45px;
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 60"><path d="M10,10 L90,10 L80,50 L20,50 Z" fill="%234361ee" stroke="%233a0ca3" stroke-width="2"/><path d="M25,50 L30,10 M40,50 L45,10 M55,50 L60,10 M70,50 L75,10" stroke="white" stroke-width="3"/></svg>') no-repeat center;
      background-size: contain;
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 10;
      transition: transform 0.1s ease;
      will-change: transform;
    }
    
    .food {
      position: absolute;
      font-size: 40px;
      text-align: center;
      width: 50px;
      height: 50px;
      line-height: 50px;
      z-index: 5;
      will-change: transform;
      user-select: none;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
    }
    
    .food.healthy {
      animation: float 3s ease-in-out infinite;
    }
    
    .food.junk {
      animation: wobble 2s ease-in-out infinite;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-10px) rotate(5deg); }
    }
    
    @keyframes wobble {
      0%, 100% { transform: rotate(-5deg); }
      50% { transform: rotate(5deg); }
    }
    
    .controls {
      display: flex;
      justify-content: space-between;
      width: 100%;
      margin-top: 1rem;
    }
    
    .btn {
      background: linear-gradient(to right, var(--primary), var(--secondary));
      color: white;
      border: none;
      padding: 0.8rem 1.2rem;
      border-radius: 50px;
      font-family: 'Poppins';
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 10px rgba(67, 97, 238, 0.3);
      transition: all 0.2s ease;
      min-width: 120px;
    }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(67, 97, 238, 0.4);
    }
    
    .btn:active {
      transform: translateY(0);
    }
    
    .btn i {
      margin-right: 8px;
    }
    
    .mobile-controls {
      display: none;
      justify-content: center;
      gap: 20px;
      margin-top: 10px;
      width: 100%;
    }
    
    .mobile-btn {
      background: rgba(67, 97, 238, 0.7);
      color: white;
      border: none;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      font-size: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      touch-action: manipulation;
    }
    
    .game-over {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.85);
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: white;
      z-index: 20;
      border-radius: 17px;
      text-align: center;
      padding: 1rem;
    }
    
    .game-over.show {
      display: flex;
      animation: fadeIn 0.5s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .game-over h2 {
      font-size: 1.8rem;
      margin-bottom: 1rem;
      color: white;
    }
    
    .final-score {
      font-size: 1.4rem;
      margin: 1rem 0;
      font-weight: 700;
    }
    
    .stars {
      display: flex;
      margin: 1rem 0;
    }
    
    .star {
      color: var(--star);
      font-size: 2rem;
      margin: 0 5px;
      text-shadow: 0 0 8px rgba(255,215,0,0.7);
    }
    
    .particle {
      position: absolute;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      pointer-events: none;
      z-index: 15;
      animation: floatAway 1.5s ease-out forwards;
    }
    
    @keyframes floatAway {
      0% { transform: translate(0, 0); opacity: 1; }
      100% { transform: translate(var(--tx), var(--ty)); opacity: 0; }
    }
    
    .combo {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--healthy);
      text-shadow: 0 0 10px rgba(255,255,255,0.8);
      opacity: 0;
      z-index: 30;
      animation: comboPop 1s ease-out;
    }
    
    @keyframes comboPop {
      0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
      50% { opacity: 1; }
      100% { transform: translate(-50%, -50%) scale(1.5); opacity: 0; }
    }
    
    .level-up {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--star);
      text-shadow: 0 0 10px rgba(255,215,0,0.7);
      opacity: 0;
      z-index: 30;
      animation: levelUp 1.5s ease-out;
    }
    
    @keyframes levelUp {
      0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
      30% { opacity: 1; }
      100% { transform: translate(-50%, -50%) scale(2); opacity: 0; }
    }
    
    .background {
      position: absolute;
      width: 100%;
      height: 100%;
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><circle cx="20" cy="20" r="3" fill="%234361ee" fill-opacity="0.1"/><circle cx="50" cy="50" r="2" fill="%234361ee" fill-opacity="0.1"/><circle cx="80" cy="30" r="4" fill="%234361ee" fill-opacity="0.1"/><circle cx="30" cy="70" r="3" fill="%234361ee" fill-opacity="0.1"/><circle cx="70" cy="80" r="2" fill="%234361ee" fill-opacity="0.1"/></svg>');
      z-index: 1;
    }
    
    @media (max-width: 400px) {
      h1 {
        font-size: 1.8rem;
      }
      
      .game-area {
        height: 350px;
      }
      
      .btn {
        padding: 0.7rem 1rem;
        min-width: 110px;
        font-size: 0.9rem;
      }
      
      .mobile-controls {
        display: flex;
      }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>Ultimate Healthy Food Catch</h1>
    <p class="subtitle">Eat healthy, avoid junk, score big!</p>
  </div>
  
  <div class="game-container">
    <div class="game-info">
      <div class="score-display"><i class="fas fa-star"></i> <span id="score">0</span></div>
      <div class="lives-display"><i class="fas fa-heart"></i> <span id="lives">3</span></div>
      <div class="time-display"><i class="fas fa-clock"></i> <span id="time">60</span>s</div>
      <div class="level-display"><i class="fas fa-level-up-alt"></i> <span id="level">1</span></div>
    </div>
    
    <div class="game-area" id="gameArea">
      <div class="background"></div>
      <div class="basket" id="basket"></div>
      
      <div class="game-over" id="gameOver">
        <h2>Game Over!</h2>
        <p>You collected:</p>
        <div class="final-score"><span id="finalScore">0</span> points!</div>
        <div class="stars" id="stars">
          <i class="fas fa-star star"></i>
          <i class="fas fa-star star"></i>
          <i class="fas fa-star star"></i>
        </div>
        <button class="btn" id="restartBtn">
          <i class="fas fa-redo"></i> Play Again
        </button>
      </div>
    </div>
    
    <div class="mobile-controls">
      <button class="mobile-btn" id="leftBtn"><i class="fas fa-arrow-left"></i></button>
      <button class="mobile-btn" id="rightBtn"><i class="fas fa-arrow-right"></i></button>
    </div>
    
    <div class="controls">
      <button class="btn" id="startBtn">
        <i class="fas fa-play"></i> Start
      </button>
      <button class="btn" id="soundBtn">
        <i class="fas fa-volume-up"></i> Sound On
      </button>
    </div>
  </div>

  <audio id="healthySound" src="Audio\long-pop.mp3" preload="auto"></audio>
  <audio id="junkSound" src="Audio\catching-beer-bottles_2-75028.mp3" preload="auto"></audio>
  <audio id="comboSound" src="Audio\positive-notification.mp3" preload="auto"></audio>
  <audio id="levelSound" src="Audio\sci-fi-click.mp3" preload="auto"></audio>
  <audio id="bgMusic" loop src="Audio\correct-answer-tone.mp3" preload="auto"></audio>

  <script>
    // Game assets
    const foodImages = {
      healthy: [
        '🍎', '🥦', '🥕', '🍓', '🥬', '🍊', '🥝', '🍇', '🍉', '🍒', '🥑', '🍍'
      ],
      junk: [
        '🍔', '🍟', '🍕', '🍩', '🍫', '🍬', '🍭', '🍪', '🥤', '🍺', '🍰', '🌭'
      ]
    };
    
    // Game configuration
    const config = {
      initialLives: 3,
      gameDuration: 60, // seconds
      healthyScore: 10,
      junkPenalty: 1,
      baseSpeed: 2,
      speedIncrease: 0.1,
      spawnRate: 1000, // ms
      comboTime: 1500, // ms
      levelThreshold: 100,
      basketSpeed: 5
    };
    
    // Game state
    const state = {
      score: 0,
      lives: config.initialLives,
      timeLeft: config.gameDuration,
      level: 1,
      speed: config.baseSpeed,
      isRunning: false,
      lastSpawn: 0,
      lastHealthyCatch: 0,
      comboCount: 0,
      foodElements: [],
      basketPosition: 0,
      moveLeft: false,
      moveRight: false,
      sounds: {
        healthy: document.getElementById('healthySound'),
        junk: document.getElementById('junkSound'),
        combo: document.getElementById('comboSound'),
        level: document.getElementById('levelSound'),
        bgMusic: document.getElementById('bgMusic'),
        enabled: true
      },
      animationId: null,
      timerId: null
    };
    
    // DOM elements
    const elements = {
      gameArea: document.getElementById('gameArea'),
      basket: document.getElementById('basket'),
      score: document.getElementById('score'),
      lives: document.getElementById('lives'),
      time: document.getElementById('time'),
      level: document.getElementById('level'),
      startBtn: document.getElementById('startBtn'),
      gameOver: document.getElementById('gameOver'),
      finalScore: document.getElementById('finalScore'),
      restartBtn: document.getElementById('restartBtn'),
      soundBtn: document.getElementById('soundBtn'),
      leftBtn: document.getElementById('leftBtn'),
      rightBtn: document.getElementById('rightBtn'),
      stars: document.getElementById('stars')
    };
    
    // Initialize game
    function init() {
      // Event listeners
      elements.startBtn.addEventListener('click', toggleGame);
      elements.restartBtn.addEventListener('click', startGame);
      elements.soundBtn.addEventListener('click', toggleSound);
      
      // Keyboard controls
      document.addEventListener('keydown', handleKeyDown);
      document.addEventListener('keyup', handleKeyUp);
      
      // Mobile controls
      elements.leftBtn.addEventListener('touchstart', () => { state.moveLeft = true; });
      elements.leftBtn.addEventListener('touchend', () => { state.moveLeft = false; });
      elements.rightBtn.addEventListener('touchstart', () => { state.moveRight = true; });
      elements.rightBtn.addEventListener('touchend', () => { state.moveRight = false; });
      
      // Mouse controls
      elements.gameArea.addEventListener('mousedown', startDrag);
      document.addEventListener('mousemove', drag);
      document.addEventListener('mouseup', endDrag);
      
      // Set initial volume
      Object.values(state.sounds).forEach(sound => {
        if (sound instanceof HTMLAudioElement) {
          sound.volume = 0.3;
        }
      });
      state.sounds.bgMusic.volume = 0.2;
      
      // Set initial basket position
      state.basketPosition = elements.gameArea.offsetWidth / 2 - 40;
      elements.basket.style.left = `${state.basketPosition}px`;
    }
    
    // Game control functions
    function toggleGame() {
      if (state.isRunning) {
        pauseGame();
      } else {
        startGame();
      }
    }
    
    function startGame() {
      // Reset game state
      state.score = 0;
      state.lives = config.initialLives;
      state.timeLeft = config.gameDuration;
      state.level = 1;
      state.speed = config.baseSpeed;
      state.isRunning = true;
      state.lastSpawn = 0;
      state.comboCount = 0;
      
      // Clear existing food
      clearFood();
      
      // Update UI
      updateUI();
      elements.gameOver.classList.remove('show');
      elements.startBtn.innerHTML = '<i class="fas fa-pause"></i> Pause';
      
      // Start game loop
      gameLoop();
      
      // Start timer
      state.timerId = setInterval(updateTimer, 1000);
      
      // Play background music
     function playSound(sound) {
  if (state.sounds.enabled && sound instanceof HTMLAudioElement) {
    sound.currentTime = 0;
    sound.play().catch(() => {}); 
  }
}
    }
    
    function pauseGame() {
      state.isRunning = false;
      cancelAnimationFrame(state.animationId);
      clearInterval(state.timerId);
      elements.startBtn.innerHTML = '<i class="fas fa-play"></i> Resume';
      
      // Pause background music
      state.sounds.bgMusic.pause();
    }
    
    function endGame() {
      state.isRunning = false;
      cancelAnimationFrame(state.animationId);
      clearInterval(state.timerId);

      // Update final score
      elements.finalScore.textContent = state.score;

      // Calculate stars (1-3)
      const stars = Math.min(3, Math.floor(state.score / (config.levelThreshold * 2)) + 1);
      const starElements = elements.stars.querySelectorAll('.star');
      starElements.forEach((star, index) => {
        star.style.display = index < stars ? 'block' : 'none';
      });

      // Show game over screen
      elements.gameOver.classList.add('show');
      elements.startBtn.innerHTML = '<i class="fas fa-play"></i> Start';

      // Stop background music
      state.sounds.bgMusic.pause();
    }

    function toggleSound() {
      state.sounds.enabled = !state.sounds.enabled;
      elements.soundBtn.innerHTML = state.sounds.enabled 
        ? '<i class="fas fa-volume-up"></i> Sound On' 
        : '<i class="fas fa-volume-mute"></i> Sound Off';
      
      if (state.sounds.enabled && state.isRunning) {
        state.sounds.bgMusic.play().catch(e => console.log("Audio play failed:", e));
      } else {
        state.sounds.bgMusic.pause();
      }
    }
    
    // Game loop
    function gameLoop() {
      if (!state.isRunning) return;
      
      state.animationId = requestAnimationFrame(gameLoop);
      
      // Move basket
      moveBasket();
      
      // Spawn new food
      const now = performance.now();
      if (now - state.lastSpawn > config.spawnRate) {
        spawnFood();
        state.lastSpawn = now;
      }
      
      // Move all food elements
      moveFood();
    }
    
    function updateTimer() {
      state.timeLeft--;
      elements.time.textContent = state.timeLeft;
      
      if (state.timeLeft <= 0) {
        endGame();
      }
    }
    
    // Basket movement
    function moveBasket() {
      if (state.moveLeft) {
        state.basketPosition = Math.max(0, state.basketPosition - config.basketSpeed);
      }
      if (state.moveRight) {
        state.basketPosition = Math.min(elements.gameArea.offsetWidth - 80, state.basketPosition + config.basketSpeed);
      }
      elements.basket.style.left = `${state.basketPosition}px`;
    }
    
    function handleKeyDown(e) {
      if (e.key === 'ArrowLeft') state.moveLeft = true;
      if (e.key === 'ArrowRight') state.moveRight = true;
    }
    
    function handleKeyUp(e) {
      if (e.key === 'ArrowLeft') state.moveLeft = false;
      if (e.key === 'ArrowRight') state.moveRight = false;
    }
    
    // Food management
    function spawnFood() {
      const isHealthy = Math.random() > 0.3;
      const foods = isHealthy ? foodImages.healthy : foodImages.junk;
      const foodType = isHealthy ? 'healthy' : 'junk';
      
      const food = document.createElement('div');
      food.className = `food ${foodType}`;
      food.textContent = foods[Math.floor(Math.random() * foods.length)];
      food.dataset.type = foodType;
      food.dataset.y = 0;
      food.dataset.x = Math.random() * (elements.gameArea.offsetWidth - 50);
      
      // Set initial position
      food.style.left = `${food.dataset.x}px`;
      food.style.top = '0px';
      
      elements.gameArea.appendChild(food);
      state.foodElements.push(food);
    }
    
    function moveFood() {
      const gameHeight = elements.gameArea.offsetHeight;
      const basketRect = elements.basket.getBoundingClientRect();
      const gameRect = elements.gameArea.getBoundingClientRect();
      
      for (let i = state.foodElements.length - 1; i >= 0; i--) {
        const food = state.foodElements[i];
        let y = parseFloat(food.dataset.y) + state.speed;
        food.dataset.y = y;
        
        // Add slight sway for more natural movement
        const sway = Math.sin(y / 30) * 5;
        
        // Update position directly
        food.style.top = `${y}px`;
        food.style.left = `${parseFloat(food.dataset.x) + sway}px`;
        food.style.transform = `rotate(${sway}deg)`;
        
        // Check collision with basket
        if (y + 50 > gameHeight - 65) {
          const foodRect = food.getBoundingClientRect();
          
          if (
            foodRect.right > basketRect.left && 
            foodRect.left < basketRect.right
          ) {
            handleCollision(food, i);
            continue;
          }
        }
        
        // Check if out of bounds
        if (y > gameHeight) {
          if (food.dataset.type === 'healthy') {
            state.lives--;
            updateUI();
            if (state.lives <= 0) endGame();
          }
          removeFood(i);
        }
      }
    }
    
    function handleCollision(food, index) {
      const now = performance.now();
      const foodType = food.dataset.type;
      
      if (foodType === 'healthy') {
        state.score += config.healthyScore;
        
        // Combo system
        if (now - state.lastHealthyCatch < config.comboTime) {
          state.comboCount++;
          
          // Bonus points for combos
          if (state.comboCount > 1) {
            const comboBonus = Math.min(50, state.comboCount * 5);
            state.score += comboBonus;
            
            // Show combo effect
            showCombo(state.comboCount);
            
            // Play combo sound
            if (state.sounds.enabled) {
              state.sounds.combo.currentTime = 0;
              state.sounds.combo.play().catch(e => console.log("Audio play failed:", e));
            }
          }
        } else {
          state.comboCount = 1;
        }
        
        state.lastHealthyCatch = now;
        
        // Play healthy sound
        if (state.sounds.enabled) {
          state.sounds.healthy.currentTime = 0;
          state.sounds.healthy.play().catch(e => console.log("Audio play failed:", e));
        }
      } else {
        state.lives -= config.junkPenalty;
        
        // Play junk sound
        if (state.sounds.enabled) {
          state.sounds.junk.currentTime = 0;
          state.sounds.junk.play().catch(e => console.log("Audio play failed:", e));
        }
        
        if (state.lives <= 0) endGame();
      }
      
      // Check for level up
      checkLevelUp();
      
      // Create particles
      createParticles(food, foodType);
      
      updateUI();
      removeFood(index);
    }
    
    function checkLevelUp() {
      const newLevel = Math.floor(state.score / config.levelThreshold) + 1;
      if (newLevel > state.level) {
        state.level = newLevel;
        state.speed = config.baseSpeed + (state.level * config.speedIncrease);
        
        // Show level up effect
        showLevelUp(state.level);
        
        // Play level up sound
        if (state.sounds.enabled) {
          state.sounds.level.currentTime = 0;
          state.sounds.level.play().catch(e => console.log("Audio play failed:", e));
        }
      }
    }
    
    function removeFood(index) {
      if (index >= 0 && index < state.foodElements.length) {
        elements.gameArea.removeChild(state.foodElements[index]);
        state.foodElements.splice(index, 1);
      }
    }
    
    function clearFood() {
      state.foodElements.forEach(food => {
        elements.gameArea.removeChild(food);
      });
      state.foodElements = [];
    }
    
    // Visual effects
    function createParticles(food, type) {
      const color = type === 'healthy' ? '#4cc9f0' : '#ef233c';
      const count = type === 'healthy' ? 15 : 8;
      const foodRect = food.getBoundingClientRect();
      const gameRect = elements.gameArea.getBoundingClientRect();
      
      for (let i = 0; i < count; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.backgroundColor = color;
        
        const x = foodRect.left - gameRect.left + foodRect.width/2;
        const y = foodRect.top - gameRect.top + foodRect.height/2;
        
        particle.style.left = `${x}px`;
        particle.style.top = `${y}px`;
        particle.style.setProperty('--tx', `${Math.random() * 100 - 50}px`);
        particle.style.setProperty('--ty', `${Math.random() * -80 - 20}px`);
        
        elements.gameArea.appendChild(particle);
        
        // Remove after animation
        setTimeout(() => {
          particle.remove();
        }, 1500);
      }
    }
    
    function showCombo(count) {
      const combo = document.createElement('div');
      combo.className = 'combo';
      combo.textContent = `COMBO x${count}!`;
      elements.gameArea.appendChild(combo);
      
      setTimeout(() => {
        combo.remove();
      }, 1000);
    }
    
    function showLevelUp(level) {
      const levelUp = document.createElement('div');
      levelUp.className = 'level-up';
      levelUp.textContent = `LEVEL ${level}!`;
      elements.gameArea.appendChild(levelUp);
      
      setTimeout(() => {
        levelUp.remove();
      }, 1500);
    }
    
    // UI functions
    function updateUI() {
      elements.score.textContent = state.score;
      elements.lives.textContent = state.lives;
      elements.level.textContent = state.level;
    }
    
    // Drag controls
    let isDragging = false;
    let startX, startLeft;
    
    function startDrag(e) {
      if (!state.isRunning) return;
      
      isDragging = true;
      startX = e.clientX;
      startLeft = state.basketPosition;
      e.preventDefault();
    }
    
    function drag(e) {
      if (!isDragging || !state.isRunning) return;
      
      const x = e.clientX - startX;
      state.basketPosition = Math.max(0, Math.min(startLeft + x, elements.gameArea.offsetWidth - 80));
      elements.basket.style.left = `${state.basketPosition}px`;
      e.preventDefault();
    }
    
    function endDrag() {
      isDragging = false;
    }
    
    // Initialize the game
    init();
  </script>
</body>
</html>